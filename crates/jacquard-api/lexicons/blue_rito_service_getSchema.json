{
  "lexicon": 1,
  "id": "blue.rito.service.getSchema",
  "defs": {
    "langs": {
      "type": "object",
      "required": [
        "lang",
        "title",
        "moderation"
      ],
      "properties": {
        "comment": {
          "type": "string"
        },
        "lang": {
          "type": "string"
        },
        "moderation": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "title": {
          "type": "string"
        }
      }
    },
    "main": {
      "type": "procedure",
      "description": "Get Bookmark by NSID, including schema, OGP, tags, moderation, and comments.",
      "input": {
        "encoding": "application/json",
        "schema": {
          "type": "object",
          "required": [
            "nsid"
          ],
          "properties": {
            "nsid": {
              "type": "string"
            }
          }
        }
      },
      "output": {
        "description": "Returns the Bookmark data for the given NSID.",
        "encoding": "application/json",
        "schema": {
          "type": "object",
          "required": [
            "nsid",
            "schema",
            "moderations",
            "comments",
            "verified"
          ],
          "properties": {
            "comments": {
              "type": "array",
              "description": "Comments with titles, content, and moderation in multiple languages.",
              "items": {
                "type": "ref",
                "ref": "blue.rito.service.getSchema#langs"
              }
            },
            "moderations": {
              "type": "array",
              "description": "Moderation result for OGP title and description",
              "items": {
                "type": "string"
              }
            },
            "nsid": {
              "type": "string",
              "description": "Namespace ID of the service or application (e.g., 'uk.skyblur.post')."
            },
            "ogpDescription": {
              "type": "string",
              "description": "The Open Graph Protocol (OGP) description for the bookmark."
            },
            "ogpImage": {
              "type": "string",
              "description": "The Open Graph Protocol (OGP) image URL for the bookmark.",
              "format": "uri"
            },
            "ogpTitle": {
              "type": "string",
              "description": "The Open Graph Protocol (OGP) title for the bookmark."
            },
            "schema": {
              "type": "string",
              "description": "The schema URL pattern associated with this NSID (e.g., 'https://skyblur.uk/post/{did}/{rkey}')."
            },
            "tags": {
              "type": "array",
              "description": "This field contains tags. If registered by the owner, it may include 'Verified'.",
              "items": {
                "type": "string"
              }
            },
            "verified": {
              "type": "boolean",
              "description": "If this comment registed by owner, this field should be true."
            }
          }
        }
      }
    }
  }
}