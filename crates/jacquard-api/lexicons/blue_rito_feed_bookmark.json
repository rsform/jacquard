{
  "lexicon": 1,
  "id": "blue.rito.feed.bookmark",
  "defs": {
    "locale": {
      "type": "object",
      "required": [
        "lang",
        "title"
      ],
      "properties": {
        "comment": {
          "type": "string",
          "description": "URI's comment. It can use GitHub Flavored Markdown.",
          "maxLength": 100000,
          "maxGraphemes": 10000
        },
        "lang": {
          "type": "string",
          "description": "Comments Language",
          "maxLength": 6,
          "enum": [
            "ja",
            "en"
          ]
        },
        "title": {
          "type": "string",
          "description": "URI's title",
          "maxLength": 500,
          "maxGraphemes": 50
        }
      }
    },
    "main": {
      "type": "record",
      "description": "Records a bookmark.",
      "key": "tid",
      "record": {
        "type": "object",
        "required": [
          "comments",
          "subject",
          "createdAt"
        ],
        "properties": {
          "comments": {
            "type": "array",
            "description": "Title and comment in different languages.",
            "items": {
              "type": "ref",
              "ref": "blue.rito.feed.bookmark#locale"
            },
            "minLength": 1
          },
          "createdAt": {
            "type": "string",
            "format": "datetime"
          },
          "ogpDescription": {
            "type": "string",
            "description": "OGP Description"
          },
          "ogpImage": {
            "type": "string",
            "description": "OGP Image Uri",
            "format": "uri"
          },
          "ogpTitle": {
            "type": "string",
            "description": "OGP Title"
          },
          "subject": {
            "type": "string",
            "format": "uri"
          },
          "tags": {
            "type": "array",
            "description": "Tags describing the uri's description (max 10 tags, 25 charactors)",
            "items": {
              "type": "string",
              "minLength": 1,
              "maxLength": 250,
              "minGraphemes": 1,
              "maxGraphemes": 25
            },
            "maxLength": 10
          }
        }
      }
    }
  }
}