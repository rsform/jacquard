{
  "lexicon": 1,
  "id": "place.stream.server.updateWebhook",
  "defs": {
    "main": {
      "type": "procedure",
      "description": "Update an existing webhook configuration.",
      "input": {
        "encoding": "application/json",
        "schema": {
          "type": "object",
          "required": [
            "id"
          ],
          "properties": {
            "active": {
              "type": "boolean",
              "description": "Whether this webhook should be active."
            },
            "description": {
              "type": "string",
              "description": "A description of what this webhook is used for.",
              "maxLength": 500
            },
            "events": {
              "type": "array",
              "description": "The types of events this webhook should receive.",
              "items": {
                "type": "string",
                "enum": [
                  "chat",
                  "livestream",
                  "follow",
                  "mention"
                ]
              }
            },
            "id": {
              "type": "string",
              "description": "The ID of the webhook to update."
            },
            "muteWords": {
              "type": "array",
              "description": "Words to filter out from chat messages. Messages containing any of these words will not be forwarded.",
              "items": {
                "type": "string",
                "maxLength": 100
              }
            },
            "name": {
              "type": "string",
              "description": "A user-friendly name for this webhook.",
              "maxLength": 100
            },
            "prefix": {
              "type": "string",
              "description": "Text to prepend to webhook messages.",
              "maxLength": 100
            },
            "rewrite": {
              "type": "array",
              "description": "Text replacement rules for webhook messages.",
              "items": {
                "type": "ref",
                "ref": "place.stream.server.defs#rewriteRule"
              }
            },
            "suffix": {
              "type": "string",
              "description": "Text to append to webhook messages.",
              "maxLength": 100
            },
            "url": {
              "type": "string",
              "description": "The webhook URL where events will be sent.",
              "format": "uri"
            }
          }
        }
      },
      "output": {
        "encoding": "application/json",
        "schema": {
          "type": "object",
          "required": [
            "webhook"
          ],
          "properties": {
            "webhook": {
              "type": "ref",
              "ref": "place.stream.server.defs#webhook"
            }
          }
        }
      },
      "errors": [
        {
          "description": "The specified webhook was not found.",
          "name": "WebhookNotFound"
        },
        {
          "description": "The authenticated user does not have access to this webhook.",
          "name": "Unauthorized"
        },
        {
          "description": "The provided webhook URL is invalid or unreachable.",
          "name": "InvalidUrl"
        },
        {
          "description": "A webhook with this URL already exists for this user.",
          "name": "DuplicateWebhook"
        }
      ]
    }
  }
}