// @generated by jacquard-lexicon. DO NOT EDIT.
//
// Lexicon: com.atproto.server.defs
//
// This file was automatically generated from Lexicon schemas.
// Any manual changes will be overwritten on the next regeneration.

pub mod activate_account;
pub mod check_account_status;
pub mod confirm_email;
pub mod create_account;
pub mod create_app_password;
pub mod create_invite_code;
pub mod create_invite_codes;
pub mod create_session;
pub mod deactivate_account;
pub mod delete_account;
pub mod delete_session;
pub mod describe_server;
pub mod get_account_invite_codes;
pub mod get_service_auth;
pub mod get_session;
pub mod list_app_passwords;
pub mod refresh_session;
pub mod request_account_delete;
pub mod request_email_confirmation;
pub mod request_email_update;
pub mod request_password_reset;
pub mod reserve_signing_key;
pub mod reset_password;
pub mod revoke_app_password;
pub mod update_email;

#[jacquard_derive::lexicon]
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(rename_all = "camelCase")]
pub struct InviteCode<'a> {
    pub available: i64,
    #[serde(borrow)]
    pub code: jacquard_common::CowStr<'a>,
    pub created_at: jacquard_common::types::string::Datetime,
    #[serde(borrow)]
    pub created_by: jacquard_common::CowStr<'a>,
    pub disabled: bool,
    #[serde(borrow)]
    pub for_account: jacquard_common::CowStr<'a>,
    #[serde(borrow)]
    pub uses: Vec<crate::com_atproto::server::InviteCodeUse<'a>>,
}

impl jacquard_common::IntoStatic for InviteCode<'_> {
    type Output = InviteCode<'static>;
    fn into_static(self) -> Self::Output {
        InviteCode {
            available: self.available.into_static(),
            code: self.code.into_static(),
            created_at: self.created_at.into_static(),
            created_by: self.created_by.into_static(),
            disabled: self.disabled.into_static(),
            for_account: self.for_account.into_static(),
            uses: self.uses.into_static(),
            extra_data: self.extra_data.into_static(),
        }
    }
}

#[jacquard_derive::lexicon]
#[derive(serde::Serialize, serde::Deserialize, Debug, Clone, PartialEq, Eq)]
#[serde(rename_all = "camelCase")]
pub struct InviteCodeUse<'a> {
    pub used_at: jacquard_common::types::string::Datetime,
    #[serde(borrow)]
    pub used_by: jacquard_common::types::string::Did<'a>,
}

impl jacquard_common::IntoStatic for InviteCodeUse<'_> {
    type Output = InviteCodeUse<'static>;
    fn into_static(self) -> Self::Output {
        InviteCodeUse {
            used_at: self.used_at.into_static(),
            used_by: self.used_by.into_static(),
            extra_data: self.extra_data.into_static(),
        }
    }
}